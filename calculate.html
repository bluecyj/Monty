<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è’™æéœçˆ¾å•é¡Œï¼ˆMonty Hall problemï¼‰çµ±è¨ˆè¡¨</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        input, button {
            margin: 5px;
            padding: 5px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        #errorMessage {
            color: red;
            margin-top: 10px;
        }
        label {
            display: inline-block;
            width: 150px;
        }
    </style>
</head>
<body>
    <h1>ğŸš—è’™æéœçˆ¾å•é¡Œï¼ˆMonty Hall problemï¼‰ğŸçµ±è¨ˆè¡¨</h1>
    
    <div>
        <label for="noSwitch">ğŸš«ä¸æ›ç‰Œå˜—è©¦æ¬¡æ•¸ï¼š</label>
        <input type="number" id="noSwitch">
        <br>
        <label for="noSwitchSuccess">ğŸŠä¸æ›ç‰ŒæˆåŠŸæ¬¡æ•¸ï¼š</label>
        <input type="number" id="noSwitchSuccess">
        <br>
        <label for="switch">ğŸ”„æ›ç‰Œå˜—è©¦æ¬¡æ•¸ï¼š</label>
        <input type="number" id="switch">
        <br>
        <label for="switchSuccess">ğŸ‰æ›ç‰ŒæˆåŠŸæ¬¡æ•¸ï¼š</label>
        <input type="number" id="switchSuccess">
        <br>
        <button onclick="addData()">æ–°å¢æ•¸æ“š</button>
        <div id="errorMessage"></div>
    </div>

    <h2>çµæœçµ±è¨ˆ</h2>
    <div id="stats"></div>

    <h2>æ•¸æ“šç´€éŒ„è¡¨</h2>
    <table id="recordTable">
        <tr>
            <th>çµ„åˆ¥(çµ„å“¡)</th>
            <th>ä¸æ›ç‰Œå˜—è©¦æ¬¡æ•¸(æ¬¡)</th>
            <th>ä¸æ›ç‰ŒæˆåŠŸæ¬¡æ•¸(æ¬¡)</th>
            <th>æ›ç‰Œå˜—è©¦æ¬¡æ•¸(æ¬¡)</th>
            <th>æ›ç‰ŒæˆåŠŸæ¬¡æ•¸(æ¬¡)</th>
            <th>ä¸æ›ç‰ŒæˆåŠŸæ©Ÿç‡ğŸŠ</th>
            <th>æ›ç‰ŒæˆåŠŸæ©Ÿç‡ğŸ‰</th>
        </tr>
    </table>

    <script>
        let data = [];

        function addData() {
            const noSwitch = parseInt(document.getElementById('noSwitch').value);
            const noSwitchSuccess = parseInt(document.getElementById('noSwitchSuccess').value);
            const switchTry = parseInt(document.getElementById('switch').value);
            const switchSuccess = parseInt(document.getElementById('switchSuccess').value);
            const errorMessage = document.getElementById('errorMessage');

            if (isNaN(noSwitch) || isNaN(noSwitchSuccess) || isNaN(switchTry) || isNaN(switchSuccess)) {
                errorMessage.textContent = 'è«‹å¡«å¯«æ‰€æœ‰æ¬„ä½ï¼Œä¸”å¿…é ˆç‚ºæ•´æ•¸ã€‚';
                return;
            }

            if (noSwitchSuccess > noSwitch || switchSuccess > switchTry) {
                errorMessage.textContent = 'è¼¸å…¥æ•¸æ“šæœ‰èª¤ï¼Œè«‹æª¢æŸ¥ã€‚';
                return;
            }

            errorMessage.textContent = ''; // æ¸…é™¤éŒ¯èª¤è¨Šæ¯

            const noSwitchRate = noSwitch ? (noSwitchSuccess / noSwitch * 100).toFixed(2) : 0;
            const switchRate = switchTry ? (switchSuccess / switchTry * 100).toFixed(2) : 0;

            data.push({noSwitch, noSwitchSuccess, switchTry, switchSuccess, noSwitchRate, switchRate});
            updateTable();
            updateStats();
            clearInputs();
        }

        function updateTable() {
            const table = document.getElementById('recordTable');
            const newRow = table.insertRow(-1);
            const newData = data[data.length - 1];
            
            newRow.insertCell(0).textContent = data.length;
            newRow.insertCell(1).textContent = newData.noSwitch;
            newRow.insertCell(2).textContent = newData.noSwitchSuccess;
            newRow.insertCell(3).textContent = newData.switchTry;
            newRow.insertCell(4).textContent = newData.switchSuccess;
            newRow.insertCell(5).textContent = newData.noSwitchRate + '%';
            newRow.insertCell(6).textContent = newData.switchRate + '%';
        }

        function updateStats() {
            const totalNoSwitch = data.reduce((sum, item) => sum + item.noSwitch, 0);
            const totalNoSwitchSuccess = data.reduce((sum, item) => sum + item.noSwitchSuccess, 0);
            const totalSwitch = data.reduce((sum, item) => sum + item.switchTry, 0);
            const totalSwitchSuccess = data.reduce((sum, item) => sum + item.switchSuccess, 0);

            const noSwitchRate = totalNoSwitch ? (totalNoSwitchSuccess / totalNoSwitch * 100).toFixed(2) : 0;
            const switchRate = totalSwitch ? (totalSwitchSuccess / totalSwitch * 100).toFixed(2) : 0;

            document.getElementById('stats').innerHTML = `
                <p>â³ä¸æ›ç‰Œå˜—è©¦ç¸½æ¬¡æ•¸: ${totalNoSwitch}æ¬¡</p>
                <p>ğŸŠä¸æ›ç‰ŒæˆåŠŸç¸½æ¬¡æ•¸: ${totalNoSwitchSuccess}æ¬¡</p>
                <p>â³æ›ç‰Œå˜—è©¦ç¸½æ¬¡æ•¸: ${totalSwitch}æ¬¡</p>
                <p>ğŸ‰æ›ç‰ŒæˆåŠŸç¸½æ¬¡æ•¸: ${totalSwitchSuccess}æ¬¡</p>
                <p>ğŸŠä¸æ›ç‰ŒæˆåŠŸæ©Ÿç‡: ${noSwitchRate}%</p>
                <p>ğŸ‰æ›ç‰ŒæˆåŠŸæ©Ÿç‡: ${switchRate}%</p>
            `;
        }

        function clearInputs() {
            document.getElementById('noSwitch').value = '';
            document.getElementById('noSwitchSuccess').value = '';
            document.getElementById('switch').value = '';
            document.getElementById('switchSuccess').value = '';
        }
    </script>
</body>
</html>